## 1.http的特点和缺点

**特点：**`无连接`、`无状态`、`灵活`、`简单快速`

- 无连接：每一次请求都要连接一次，请求结束后连接断开
- 无状态：每一次请求都是独立的，请求结束不会记录连接的任何信息，减少了网络开销
- 灵活：通过请求头中的`Content-Type`标记，可以传输任意数据类型的数据对象
- 简单快速：发送请求访问某个资源时，只需传送请求方法和URL就可以了，使用简单

**缺点：**`明文传输`、`队头阻塞`

- 明文传输：可能被窃听，并且缺少身份认证也可能遭遇伪装，还有缺少报文完整性验证可能遭到篡改
- 队头阻塞：开启长连接时，只建立一个TCP连接，同一时刻只能处理一个请求，那么当请求耗时过长时，其他请求就只能处于阻塞状态

## 2.http报文组成部分

- http报文由`请求报文`和`响应报文`组成

- 请求报文：由`请求行`、`请求头`、`空行`、`请求体`四部分组成

- 响应报文：由`状态行`、`响应头`、`空行`、`响应体`四部分组成

  - 请求行：包含http方法，请求地址，http协议以及版本
  - 状态行：包含http协议及版本，数字状态码，状态码英文名称
  - 请求头/响应头：使用`key-value`来告诉服务端我需要什么内容，要注意什么类型等
  - 空行：用来区分首部与实体，因为请求头都是key:value的格式，当解析遇到空行时，服务端就知道下一个不再是请求头部分，就该当作请求体来解析了

  - 请求体：请求的参数
  - 响应体：服务端返回的数据

## 3.http请求方法(9种)

**http1.0：**`GET`、`POST`、`HEAD`

**http1.1：**`PUT`、`PATCH`、`DELETE`、`OPTIONS`、`TRACE`、`CONNECT`

| 方法    | 描述                                                         |
| ------- | ------------------------------------------------------------ |
| GET     | 获取资源                                                     |
| POST    | 传输资源，通常会造成服务器资源的修改                         |
| HEAD    | 类似于 GET 请求，只不过返回的响应中没有具体的内容，用于获取报头 |
| PUT     | 更新资源                                                     |
| PATCH   | 对PUT的补充，对已知资源部分更新                              |
| DELETE  | 删除资源                                                     |
| OPTIONS | 列出请求资源支持的请求方法，用来跨域请求                     |
| TRACE   | 追踪请求/响应路径，用于测试或诊断                            |
| CONNECT | 将连接改为管道方式用于代理服务器(`隧道代理`下面有讲)         |

## 4.GET和POST的区别

- GET在浏览器回退时是无害的，而POST会再次发起请求
- GET请求会被浏览器主动缓存，而POST不会，除非手动设置
- GET请求参数会被保留在浏览器历史记录里面，而POST参数不会被保留
- GET请求在URL中传递的参数有长度限制，而POST请求参数没有限制
- GET参数通过URL传递，POST参数可以通过URL传递，也可以放在`Request body`中
- GET请求只能进行URL编码，而POST支持多种编码方式

- GET方法产生一个TCP数据包，POST方法产生两个数据包。GET浏览器把 http header和data一起发出去，响应成功200，POST先发送header，响应100 continue，再发送data，响应成功200

## 5.常见的http状态码

- 1xx：指示信息，表示请求已经接收，继续处理

- 2xx：成功：表示请求已经被成功处理

  | 状态码          | 含义                                                 |
  | --------------- | ---------------------------------------------------- |
  | 200(成功)       | 服务器已经成功处理请求                               |
  | 201(已创建)     | 请求成功并且服务器创建了新的资源                     |
  | 202(已接受)     | 服务器已经接受，但尚未处理                           |
  | 203(非授权信息) | 服务器已成功处理了请求，但返回的信息可能来自另一来源 |
  | 204(无内容)     | 服务器成功处理了请求，但没有返回任何内容             |
  | 205(重置内容)   | 服务器成功处理了请求，但没有返回任何内容             |
  | 206(部分内容)   | 服务器成功处理了部分GET请求                          |

- 3xx：请求被重定向

  | 状态码            | 含义                                                         |
  | ----------------- | ------------------------------------------------------------ |
  | 300(多种选择)     | 针对请求，服务器可执行多种操作。 服务器可根据请求者 (user agent) 选择一项操作，或提供操作列表供请求者选择。 |
  | 301(永久移动)     | 请求的网页已永久移动到新位置。 服务器返回此响应（对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 |
  | 302(临时移动)     | 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 |
  | 303(查看其它位置) | 请求者应当对不同的位置使用单独的 GET 请求来检索响应时，服务器返回此代码。 |
  | 304(未修改)       | 自从上次请求后，请求的网页未修改过。 服务器返回此响应时，不会返回网页内容。 |
  | 305(使用代理)     | 请求者只能使用代理访问请求的网页。 如果服务器返回此响应，还表示请求者应使用代理。 |
  | 307(临时重定向)   | 服务器目前从不同位置的网页响应请求，但请求者应继续使用原有位置来进行以后的请求。 |

- 4xx：请求错误

  | 状态码                  | 含义                                                         |
  | ----------------------- | ------------------------------------------------------------ |
  | 400(错误请求)           | 服务器不理解请求的语法                                       |
  | 401(未授权)             | 请求要求身份验证                                             |
  | 403(拒绝访问)           | 服务器拒绝请求                                               |
  | 404(未找到)             | 服务器找不到请求的网页                                       |
  | 405(方法禁用)           | 禁用请求中指定的方法                                         |
  | 406(不接受)             | 无法使用请求的内容特性响应请求的网页                         |
  | 407(需要代理授权)       | 此状态代码与 401（未授权）类似，但指定请求者应当授权使用代理。 |
  | 408(请求超时)           | 服务器等候请求时发生超时。                                   |
  | 409(冲突)               | 服务器在完成请求时发生冲突。 服务器必须在响应中包含有关冲突的信息。 |
  | 410(已删除)             | 如果请求的资源已永久删除，服务器就会返回此响应。             |
  | 411(需要有效长度)       | 服务器不接受不含有效内容长度标头字段的请求。                 |
  | 412(未满足前提条件)     | 服务器未满足请求者在请求中设置的其中一个前提条件。           |
  | 413(请求实体过大)       | 服务器无法处理请求，因为请求实体过大，超出服务器的处理能力。 |
  | 414(请求URL过长)        | 请求的 URI（通常为网址）过长，服务器无法处理。               |
  | 415(不支持的媒体类型)   | 请求的格式不受请求页面的支持。                               |
  | 416(请求范围不符合要求) | 如果页面无法提供请求的范围，则服务器会返回此状态代码。       |
  | 417(未满足期望)         | 服务器未满足"期望"请求标头字段的要求。                       |

- 5xx：服务器错误

  | 状态码                | 含义                                                         |
  | --------------------- | ------------------------------------------------------------ |
  | 500(服务器内部错误)   | 服务器遇到错误，无法完成请求                                 |
  | 501(尚未实施)         | 服务器不具备完成请求的功能。例如服务器无法识别请求方法时可能会返回此代码 |
  | 502(错误网关)         | 服务器作为网关或代理，从上游服务器收到无效响应               |
  | 503(服务不可用)       | 服务器目前无法使用(由于超载或停机维护)                       |
  | 504(网关超时)         | 服务器作为网关或代理，没有及时从上游服务器收到请求           |
  | 505(HTTP版本不受支持) | 服务器不支持请求中使用的HTTP版本                             |

  

